* Check compatibility with win32 platforms
* auto fallback mechanism
* move calculation to a seperate function